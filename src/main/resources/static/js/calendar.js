$(function(){d();function d(){$("#external-events .fc-event").each(function(){$(this).data("event",{title:$.trim($(this).text()),stick:true});$(this).draggable({zIndex:999,revert:true,revertDuration:0})})}$(".save-event").on("click",function(){var j=$("#addNewEvent form").find("input[name='category-name']").val();var i=$("#addNewEvent form").find("select[name='category-color']").val();if(j!==null&&j.length!=0){$("#event-list").append('<div class="fc-event bg-'+i+'" data-class="bg-'+i+'">'+j+"</div>");$("#addNewEvent form").find("input[name='category-name']").val("");$("#addNewEvent form").find("select[name='category-color']").val("");d()}});var g=new Date();var c=g.getDate();var e=g.getMonth()+1;var h=g.getFullYear();if(c<10){c="0"+c}if(e<10){e="0"+e}var b=h+"-"+e+"-";var a=$("#calendar");var f=function(i){$('#addDirectEvent input[name="event-name"]').val("");$('#addDirectEvent select[name="event-bg"]').val("");$("#addDirectEvent").modal("show");$("#addDirectEvent .save-btn").unbind();$("#addDirectEvent .save-btn").on("click",function(){var l=$('#addDirectEvent input[name="event-name"]').val();var j="bg-"+$('#addDirectEvent select[name="event-bg"]').val();if(l){var k={title:l,start:i,className:j};a.fullCalendar("renderEvent",k,true);$("#addDirectEvent").modal("hide")}else{alert("Title can't be blank. Please try again.")}})};a.fullCalendar({header:{left:"title",center:"",right:"month, agendaWeek, agendaDay, prev, next"},editable:true,droppable:true,eventLimit:true,selectable:true,events:[{title:"Birthday Party",start:b+"01",className:"bg-info"},{title:"Conference",start:b+"05",end:"2018-08-07",className:"bg-warning"},{title:"Meeting",start:b+"09T12:30:00",allDay:true,className:"bg-success",}],drop:function(i,j){if($("#drop-remove").is(":checked")){$(this).remove()}},select:function(k,j,i){f(k)},eventClick:function(i,k,l){var j=$("#eventEditModal");j.modal("show");j.find('input[name="event-name"]').val(i.title);j.find(".save-btn").click(function(){i.title=j.find("input[name='event-name']").val();a.fullCalendar("updateEvent",i);j.modal("hide")})}})});