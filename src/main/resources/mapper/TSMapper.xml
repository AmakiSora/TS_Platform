<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.cosmos.mapper.TSMapper">
    <select id="queryStaffList" resultType="com.cosmos.pojo.Staff">
        select * from staff
    </select>
    <select id="queryStaffById" resultType="com.cosmos.pojo.Staff">
        select * from staff where id = #{id}
    </select>
    <select id="queryTeaNameById" resultType="java.lang.String">
        select name from staff where id = #{id}
    </select>
    <insert id="addStaff" parameterType="com.cosmos.pojo.Staff">
        insert into staff (id,name,gender,college,phone) values(#{id},#{name},#{gender},#{college},#{phone})
    </insert>
    <delete id="deleteStaff" parameterType="java.lang.String">
        delete from staff where id = #{id}
    </delete>
    <update id="updateStaff" parameterType="com.cosmos.pojo.Staff">
        update staff set id=#{id},name=#{name},gender=#{gender},college=#{college},phone=#{phone} where id = #{id}
    </update>

    <!--分界线-->

    <select id="queryStudentList" resultType="com.cosmos.pojo.Student">
        select * from student
    </select>
    <select id="queryStudentById" resultType="com.cosmos.pojo.Student">
        select * from student where id = #{id}
    </select>
    <select id="queryStuNameById" resultType="java.lang.String">
        select name from student where id = #{id}
    </select>
    <select id="queryStudentByClasses" resultType="com.cosmos.pojo.Student">
        select * from student where classes = #{classes}
    </select>
    <select id="queryClassesByName" resultType="java.lang.String">
        select classes from student where id = #{id}
    </select>
    <insert id="addStudent" parameterType="com.cosmos.pojo.Student">
        insert into student (id,name,gender,classes,college,phone) values(#{id},#{name},#{gender},#{classes},#{college},#{phone})
    </insert>
    <delete id="deleteStudent" parameterType="java.lang.String">
        delete from student where id = #{id}
    </delete>
    <update id="updateStudent" parameterType="com.cosmos.pojo.Student">
        update student set id=#{id},name=#{name},gender=#{gender},classes=#{classes},college=#{college},phone=#{phone} where id = #{id}
    </update>

    <!--分界线-->

    <select id="queryCourseList" resultType="com.cosmos.pojo.Course">
        select * from course
    </select>
    <select id="queryStuCourse" resultType="com.cosmos.pojo.Course">
        select c.*
        from course as c,studentCourse as sc
        where sc.courseID = c.id
        and   sc.studentID = #{id}
    </select>
    <select id="queryTeaCourse" resultType="com.cosmos.pojo.Course">
        select c.*
        from course as c
        where c.teacherID = #{id}
    </select>
    <select id="queryCourse" resultType="com.cosmos.pojo.Course">
        select * from course where id = #{id}
    </select>
    <insert id="addCourse" parameterType="com.cosmos.pojo.Course">
        insert into course (id,name,teacherID,teacher,college) values(#{id},#{name},#{teacherID},#{teacher},#{college})
    </insert>
    <select id="queryCourseStuList" resultType="com.cosmos.pojo.Student">
        select s.*
        from student as s,studentCourse as sc
        where sc.studentID = s.id
        and   sc.courseID = #{id}
    </select>

    <!--分界线-->

    <select id="queryTaskList" resultType="com.cosmos.pojo.Task">
        select * from task where courseID = #{id}
    </select>
    <select id="queryTask" resultType="com.cosmos.pojo.Task">
        select * from task where id = #{id}
    </select>
    <insert id="addTask" parameterType="com.cosmos.pojo.Task">
        insert into task (id,name,courseID,issuedDate,deadline,fileName,introduction)
        values(#{id},#{name},#{courseID},#{issuedDate},#{deadline},#{fileName},#{introduction})
    </insert>
    <update id="updateTask" >
        update task set
        id=#{task.id},
        name=#{task.name},
        issuedDate=#{task.issuedDate},
        deadline=#{task.deadline},
        introduction=#{task.introduction}
        where id = #{oldID}
    </update>
    <update id="updateTaskF" >
        update task set
        id=#{task.id},
        name=#{task.name},
        issuedDate=#{task.issuedDate},
        deadline=#{task.deadline},
        fileName=#{task.fileName},
        introduction=#{task.introduction}
        where id = #{oldID}
    </update>


</mapper>